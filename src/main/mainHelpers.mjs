// helper functions for main process